---
title: Jstz CLI
sidebar_label: CLI
---

The Jstz CLI allows you to interact with Jstz, including starting the sandbox and deploying and interacting with smart functions.
It provides these main commands:

- [`sandbox`](#sandbox) - Start and interact with the local [sandbox](/sandbox) environment
- [`bridge`](#bridge) - Bridge XTZ tokens from Tezos to Jstz and back
- [`deploy`](#deploy) - Deploy smart functions
- [`run`](#run) - Send requests to smart functions
- [`transfer`](#transfer) - Transfer XTZ between Jstz accounts
- [`logs`](#logs) - Get smart function logs
- [`kv`](#kv) - Get data from the key-value store

:::tip

- `jstz help`: Displays a general help message or help information for specific subcommands.

- `jstz --version (-V)`: Displays the current version of Jstz.

:::

:::tip

Many of these commands require the `-n` or `--network` argument to specify which Jstz environment to interact with, such as `-n dev` to interact with the Jstz sandbox or a network that is listed in your Jstz config file.

:::

## Config

:::danger
⚠️ Under construction ⚠️
:::

## Commands

:::tip

Remember, the `-h` or `--help` flag can always be used after any command or subcommand to receive more detailed information about its usage. This guide is a brief overview, and the `help` command will provide the most current and detailed instructions.

:::

### Sandbox

The sandbox commands are responsible for managing the Jstz sandbox environment.
For more information, see [sandbox](/sandbox).

In most cases, start the sandbox in a Docker container by including the `--container` flag.
If you don't use this flag, Jstz requires that you clone the Jstz repository at https://github.com/jstz-dev/jstz/ and install its `nix` environment as described in [Building from source](/installation#building-from-source).

#### Commands

- `start`: Starts the sandbox environment.

- `stop`: Shuts down the sandbox environment.

- `restart`: Restarts the sandbox.

#### Usage

```bash
jstz sandbox start [OPTIONS]
jstz sandbox restart [OPTIONS]
jstz sandbox stop
```

#### Options

- `--container`: Run the sandbox in a Docker container.
  Requires Docker.
- `--detach (-d)`: Detach the process to run in the background.

#### Examples

```bash
jstz sandbox --container start -d

jstz sandbox --container restart -d

jstz sandbox --container stop
```

### Bridge

Bridge commands transfer tokens between Tezos layer 1 and Jstz, which in this context is referred to as layer 2.

Bridge commands run in any network other than the sandbox require the Octez client; see [The Octez client](https://docs.tezos.com/developing/octez-client) on docs.tezos.com.

#### Commands

- `deposit`: Deposits tez from an existing Tezos L1 address to a Jstz address.

#### Usage

```bash
jstz bridge deposit [OPTIONS]
```

#### Options

- `--from (-f) <ALIAS|ADDRESS>`: Tezos L1 address or alias to withdraw from, which must be stored in the Octez client.

- `--to (-t) <ALIAS|ADDRESS>`: The Jstz address or alias to deposit to.

- `--amount (-a) <INTEGER>`: The amount in tez to transfer.

- `--network (-n) <NETWORK>`: The network from the config file, such as `dev` for the local sandbox.

#### Example

```bash
jstz bridge deposit --from tz1faswCTDciRzE4oJ9jn2Vm2dvjeyA9fUzU --to tz1iA2Mu65WR3enRHEx9HDfBNRNTecwoz263 --amount 57
```

### Deploy

The `deploy` command deploys a smart function to the specified Jstz environment.
For more information, see [Deploying smart functions](/functions/deploying).

#### Usage

```bash
jstz deploy [OPTIONS] [CODE|PATH]
```

#### Arguments

- `[CODE|PATH]`: Function code or the file path to the function code.

#### Options

- `--balance (-b) <BALANCE>`: The initial balance for the function.

- `--name <NAME>`: Local name or alias of the function.

- `--network (-n) <NETWORK>`: The network from the config file, such as `dev` for the local sandbox.

- `--force (-f) <NETWORK>`: Overwrites an existing function name. Effective only when `name` is specified.

- `--config <PATH>`: Overrides the path to the config file.

:::note

The `--name` argument sets a local alias for the smart function's address.
This alias is stored in the local configuration file and therefore it is known only to the CLI and not to any other system on the network.
All other clients, including web applications, must use the full address of the function instead of this alias.

The Jstz CLI ties each alias to an address without regard to the network that the smart function is deployed to.
Therefore, be careful with aliases when you are using more than one network.
If two smart functions (or two copies of the same smart function) are deployed to different networks with the same address, the alias refers to both of them.
Using the alias can lead to unexpected outcomes if you're not careful about which network you're calling.

:::

#### Example

```bash
jstz deploy examples/counter.js --name my_counter --balance 42
```

### Run

The `run` command sends a request to a smart function using a specified URL.

#### Usage

```bash
jstz run [OPTIONS] <URL>
```

#### Arguments

- `<URL>`: The URL to send the request to, in the format `jstz://<ADDRESS|ALIAS>/<PATH>`, where `<ADDRESS|ALIAS>` is the address or alias of the smart function and `<PATH>` is the path to call, which is passed to the smart function.

#### Options

- `--gas-limit (-g) <GAS_LIMIT>`: The maximum amount of gas to be used. Default is `100000`.

- `--method (-m) <method>`: The HTTP method used in the request. Default is `GET`.

- `--data (-d) <data>`: Defines the JSON data to be included in the request body.

- `--amount (-a) <data>`: The amount in XTZ to transfer.

- `--network (-n) <NETWORK>`: The network from the config file, such as `dev` for the local sandbox.

- `--include (-i)`: Include response headers in the output.

- `--trace (-t)`: Flag to show the logs of the function.

#### Example

```bash
export counter=tz4CYGgcFtphw3AXS2Mx2CMmfj6voV5mPc9b # Address of the previously deployed smart function examples/counter.js
jstz run --trace "jstz://${counter}/"
jstz run --trace "jstz://${counter}/"
jstz run --trace "jstz://${counter}/"
jstz run --trace "jstz://${counter}/"
```

If you deploy the `counter` smart function and call it as in the previous examples, you should see its output in the console, as in this example:

```
[LOG] Counter: null
[LOG] Counter: 0
[LOG] Counter: 1
[LOG] Counter: 2
```

### Transfer

Transfer XTZ between Jstz accounts.

#### Usage

```bash
jstz transfer [OPTIONS] <AMOUNT> <ADDRESS|ALIAS>
```

#### Arguments

- `<AMOUNT>`: The amount in XTZ to transfer.

- `<ADDRESS|ALIAS>`: Destination address or alias of the account (user or smart function).

#### Options

- `--gas-limit (-g) <GAS_LIMIT>`: The maximum amount of gas to be used. Default is `100000`.

- `--network (-n) <NETWORK>`: The network from the config file, such as `dev` for the local sandbox.

- `--include (-i)`: Include response headers in the output.

#### Example

```bash
jstz transfer 2 KT1CexuXoXuShARedvKSmxwDTLxRHNcvxqKR
```

### Logs

The `trace` command follows logs from deployed smart functions and prints them to the console.

As an alternative, you can add the `--trace` flag to the `jstz run` command to show the logs from a single smart function request.

#### Commands

- `trace`: Trace the logs from the specified function.

#### Usage:

```bash
jstz logs trace [OPTIONS] <ALIAS|ADDRESS>
```

#### Arguments

- `<ALIAS|ADDRESS>`: The function's address or alias.

#### Options

- `--level (-l) <level>`: Specifies the level of log. Default is `log`.

- `--network (-n) <NETWORK>`: The network from the config file, such as `dev` for the local sandbox.

#### Example

```bash
jstz deploy examples/logs.js --name my_function
jstz logs trace my_function
```

In a new terminal, run the counter function and you will see the following output:

```bash
[LOG]: log
[LOG]: debug
[INFO]: info
[WARN]: warn
[ERROR]: error
[ERROR]: Assertion failed
```

### KV

The `kv` commands get information from the Jstz key-value store.
They cannot change that information because only smart functions can write to the key-value store.
To get or change key-value data in a smart function, see [KV](/api/kv).

The `list` command lists sub-keys for a given key.
Sub-keys are separated with slashes, so if a smart function stores data with the keys `primaryKey/subKeyA` and `primaryKey/subKeyB`, the command `jstz kv list primaryKey` returns `subKeyA` and `subKeyB`.

#### Commands

- `get`: Gets a value from the key-value store.

- `list`: Lists sub-keys for a given key.

#### Usage

```bash
export counter=tz4CYGgcFtphw3AXS2Mx2CMmfj6voV5mPc9b # Address of the previously deployed smart function examples/counter.js
jstz run "jstz://${counter}/"
jstz kv get -a $counter counter
```

#### Options

- `--account (-a) <ADDRESS>`: The address of the smart function to get the key-value data for.

- `--network (-n) <NETWORK>`: The network from the config file, such as `dev` for the local sandbox.

#### Example

```bash
jstz kv get -a $counter counter
```
